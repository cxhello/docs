# 正向代理和反向代理的区别

### 正向代理
![image2020-10-13_15-16-1.png](https://cdn.nlark.com/yuque/0/2020/png/2584604/1606898194663-63831c5f-28b7-4fc8-af45-335f6a0e6da8.png#align=left&display=inline&height=110&margin=%5Bobject%20Object%5D&name=image2020-10-13_15-16-1.png&originHeight=110&originWidth=554&size=25061&status=done&style=none&width=554)
正向代理类似一个跳板机，代理访问外部资源。


例子：我是一个用户，我访问不了 google，但是我能访问一个代理服务器，这个代理服务器可以访问 google，于是我先连上代理服务器，告诉他我需要 google 网站的内容，代理服务器去取回来，然后返回给我。从网站的角度，只在代理服务器来取内容的时候有一次记录，有时候并不知道是用户的请求，也隐藏了用户的资料，这取决于代理告不告诉网站。


客户端必须设置正向代理服务器，当然前提是要知道正向代理服务器的 IP 地址，还有代理程序的端口。例如：之前使用过这类软件 CCproxy，[http://www.ccproxy.com/](http://www.ccproxy.com/) 需要在浏览器中配置代理的地址。
![image2020-10-13_15-16-28.png](https://cdn.nlark.com/yuque/0/2020/png/2584604/1606899168124-4726b1e9-0688-4588-a9c8-028a361e9732.png#align=left&display=inline&height=485&margin=%5Bobject%20Object%5D&name=image2020-10-13_15-16-28.png&originHeight=485&originWidth=554&size=137575&status=done&style=none&width=554)
总结来说：正向代理是一个位于客户端和原始服务器（origin server）之间的服务器，为了从原始服务器获取内容，客户端向代理发送一个请求并指定目标（原始服务器），然后代理向原始服务器转交请求并将获得的内容返回给客户端。客户端必须要进行一些特别的设置才能使用正向代理。


用途：


- 访问原来无法访问的资源，例如 google；
- 可以做缓存，加速访问资源；
- 对客户端访问授权，上网进行认证；
- 代理可以记录用户访问记录（上网行为管理），对外隐藏用户信息；



### 反向代理


第一次接触反向代理的感觉是：客户端是无感知代理的存在的，反向代理对外都是透明的，访问者者并不知道自己访问的是一个代理。因为客户端不需要任何配置就可以访问。


反向代理（Reverse Proxy）实际运行方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个服务器。


用途：


- 保证内网的安全，可以使用反向代理提供 WAF 功能，阻止 web 攻击：大型网站，通常将反向代理作为公网访问地址，Web 服务器是内网；

![image2020-10-13_15-17-17.png](https://cdn.nlark.com/yuque/0/2020/png/2584604/1606899618213-961fc355-ff5c-4053-bbb5-5359b921ec62.png#align=left&display=inline&height=175&margin=%5Bobject%20Object%5D&name=image2020-10-13_15-17-17.png&originHeight=234&originWidth=823&size=132294&status=done&style=none&width=617)

- 负载均衡，通过反向代理服务器来优化网站的负载；

![image2020-10-13_15-17-35.png](https://cdn.nlark.com/yuque/0/2020/png/2584604/1606899673760-7e5db435-2c47-4494-897a-a5d2da7a55f0.png#align=left&display=inline&height=448&margin=%5Bobject%20Object%5D&name=image2020-10-13_15-17-35.png&originHeight=597&originWidth=808&size=236414&status=done&style=none&width=606)


### 区别


正向代理隐藏真实客户端，反向代理隐藏真实服务端；


### 参考文章


> [https://www.zhihu.com/question/24723688](https://www.zhihu.com/question/24723688)

